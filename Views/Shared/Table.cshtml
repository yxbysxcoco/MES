@model MES.Models.SchemaModel
@{
    Layout = null;
}

<div class="table-responsive" style="margin: 12px 0 0 0; ">
    <table class="table text-nowrap" id="table">
        <thead>
            <tr>
                @foreach (var item in Model)
                {
                    <th>@item.Alias</th>
                }
            </tr>
        </thead>
        <tbody id="tbody"></tbody>
    </table>
    <img src="1.jpg" hidden onerror="test('@Model.RequestUrl')" />
</div>
<nav aria-label="Page navigation" style="float: right">
    <ul class="pagination">
        <li>
            <a href="#" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>
        <li><a href="#">1</a></li>
        <li><a href="#">2</a></li>
        <li><a href="#">3</a></li>
        <li><a href="#">4</a></li>
        <li><a href="#">5</a></li>
        <li>
            <a href="#" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
            </a>
        </li>
    </ul>
</nav>
<script>
    const getData = (options) => {
        return axios(options);
    }
    const test = (url) => {
        // get data
        getData({
            url: url,
            data: {},
            method: methods.GET
        }).then(res => {
            // deal res
            // console.log(res.data.List);
            var table = document.querySelector("#tbody");
            for (var i = 0, l = res.data.List.length; i < l; i++) {
                let tr = document.createElement("tr");
                for (var j in res.data.List[i]) {
                    var td = document.createElement("td");
                    td.innerHTML = res.data.List[i][j]
                    tr.appendChild(td)
                }
                table.append(tr)
            }
        })
    }
</script>
